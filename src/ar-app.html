<!-- Polymer element -->
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
<link rel="import" href="../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../bower_components/app-layout/app-scroll-effects/app-scroll-effects.html">
<link rel="import" href="../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/iron-selector/iron-selector.html">

<link rel="import" href="../bower_components/app-layout/app-grid/app-grid-style.html">
<link rel="import" href="../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../bower_components/page-title/page-title.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">

<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">

<!-- Custom element -->
<link rel="import" href="ar-data/ar-data.html">
<link rel="import" href="ar-logo/ar-logo.html">

<link rel="import" href="ar-forms/ar-forms.html">

<!-- <link rel="import" href="ar-firebase/ar-firebase.html">
<link rel="import" href="../bower_components/polymerfire/firebase-app.html">
<link rel="import" href="../bower_components/polymerfire/firebase-auth.html">
<link rel="import" href="../bower_components/polymerfire/firebase-document.html">
<link rel="import" href="../bower_components/polymerfire/firebase-query.html">
<link rel="import" href="../bower_components/polymerfire/firebase-storage-script.html"> -->

<dom-module id="ar-app">
  <template>
    <style include="app-grid-style">
      :host {
        display: block;
        --app-primary-color: #4285f4;
        --app-secondary-color: black;

        --app-grid-columns: 3;
        --app-grid-item-height: 30vh;
        --app-grid-expandible-item-columns: 3;
      }

      app-header {
        /*background-color: transparent;*/
        background-image: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QDMRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAABIAAAAAQAAAEgAAAABAAiQAAAHAAAABDAyMTCgAAAHAAAABDAxMDCgAQADAAAAAQABAACgAgAEAAAAAQAAAFCgAwAEAAAAAQAAADCiDgAFAAAAAQAAALSiDwAFAAAAAQAAALyiEAADAAAAAQABAAAAAAAAAAAASAAAAAEAAABIAAAAAf/hA61odHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvADw/eHBhY2tldCBiZWdpbj0n77u/JyBpZD0nVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkJz8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0nYWRvYmU6bnM6bWV0YS8nPgo8cmRmOlJERiB4bWxuczpyZGY9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMnPgoKIDxyZGY6RGVzY3JpcHRpb24geG1sbnM6ZXhpZj0naHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8nPgogIDxleGlmOlhSZXNvbHV0aW9uPjcyPC9leGlmOlhSZXNvbHV0aW9uPgogIDxleGlmOllSZXNvbHV0aW9uPjcyPC9leGlmOllSZXNvbHV0aW9uPgogIDxleGlmOlJlc29sdXRpb25Vbml0PkluY2g8L2V4aWY6UmVzb2x1dGlvblVuaXQ+CiAgPGV4aWY6RXhpZlZlcnNpb24+RXhpZiBWZXJzaW9uIDIuMTwvZXhpZjpFeGlmVmVyc2lvbj4KICA8ZXhpZjpGbGFzaFBpeFZlcnNpb24+Rmxhc2hQaXggVmVyc2lvbiAxLjA8L2V4aWY6Rmxhc2hQaXhWZXJzaW9uPgogIDxleGlmOkNvbG9yU3BhY2U+c1JHQjwvZXhpZjpDb2xvclNwYWNlPgogIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xMjgwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NzYyPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICA8ZXhpZjpGb2NhbFBsYW5l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');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: 0% 88%;
        --app-header-background-front-layer: {
          background-color: rgba(4, 4, 4, 0.5);
          background-image: url("/images/pexels-photo-30732.jpg");
          /* Cross browser */
         -webkit-filter: blur(3px);
          -moz-filter: blur(3px);
          -o-filter: blur(3px);
          -ms-filter: blur(3px);
          filter: blur(3px);

          background-repeat: no-repeat;
          background-position: 0px 88%;
        };

        color: #fff;
      }

      app-header paper-icon-button {
        --paper-icon-button-ink-color: white;
      }

      app-header .logo[condensed] {
        position: absolute;
        top: 55px;
        vertical-align: middle;
        width: 45px;
        height: 75px;
      }

      .drawer-list {
        margin: 0 20px;
      }
      .drawer-list a {
        display: block;
        padding: 0 16px;
        line-height: 40px;
        text-decoration: none;
        color: var(--app-secondary-color);
      }
      .drawer-list a.iron-selected {
        color: black;
        font-weight: bold;
      }
      .drawer-list a.subroute {
        padding-left: 32px;
      }

      paper-tabs {
        height: 100%;
        max-width: 45%;
        --paper-tabs-selection-bar-color: #3eb7e9;
      }

      paper-tab[link] a {
        /* These mixins (from iron-flex-layout) center the link text. */
        @apply(--layout-horizontal);
        @apply(--layout-center-center);
        color: #fff;
        text-decoration: none;
        font-size: 16px;
        font-weight: 600;
        letter-spacing: 0.1em;
        pointer-events: auto;
      }

      paper-tab[aria-selected=true] a {
        color: #3eb7e9;
      }

      .profileBtn {
        color: #3eb7e9;
        position: relative;
        -webkit-transition: all .2s ease;
        -moz-transition: all .2s ease;
        -ms-transition: all .2s ease;
        -o-transition: all .2s ease;
        transition: all .2s ease;
        top: 0;
      }

      .profileBtn[condensed] {
        top: -100px;
      }

      .user-menu paper-button {
        color: #000;
        text-decoration: none;
        font-size: small
      }

      .user-menu paper-button iron-icon {
        margin-right: .4em;
      }

      iron-pages {
        min-height: 90vh;
      }

      .end {
        background-color: #f8f8f8;        
      }

      .footer {
        min-height: 30vh;
      }

      .item:nth-child(4) {
        @apply(--app-grid-expandible-item);
        height: 24px;
      }

      .right {
        text-align: center;
        vertical-align: middle;
        font-weight: bold;
        font-size: 12px;
        line-height: 24px;
        color: #757575;
      }
      
      .right iron-icon {
        height: 18px;
        vertical-align: middle; 
      }

      .item .footer-cln-header {
        font-weight: bold;
        font-size: 12px;
        line-height: 24px;
        color: #179BD7;
      }

      .item ul, .item li {
        list-style: none;
      }

      .item li a {
        color: #757575;
        font-size: 12px;
        text-decoration: none;
        line-height: 24px;
      }

      .item li .github {
        vertical-align: middle;
        width: 2em;
        height: 2em;
      }

      .item li .social {
        line-height: 24px;
      }

      [hidden] {
        display: none !important;
      }
    </style>

    <app-location route="{{route}}"></app-location>
    <app-route
        route="{{route}}"
        pattern="/:page"
        data="{{routeData}}"
        tail="{{subroute}}"></app-route>

    <iron-media-query query="min-width: 640px" query-matches="{{largeScreen}}">
    </iron-media-query>

    <page-title base-title="A&R" title="[[_ucFirst(page)]]" direction="reversed"></page-title>

    <!--
      ar-data represent the primary database access
      As we are usiung the firebase service, its aloso handle the authentication process
    -->
    <ar-data id="arData"
      signed-in="{{signedIn}}"
      user="{{fireUser}}"
      mode="{{mode}}"></ar-data>

    <!-- User data -->
    <firebase-document
      path$="/users/[[fireUser.uid]]/basicInfo"
      data="{{user}}">
    </firebase-document>

    <app-drawer-layout fullbleed force-narrow>

      <!-- Drawer content -->
      <app-drawer id="appDrawer" swipe-open>
        <app-toolbar>Menu</app-toolbar>
        <iron-selector selected="[[page]]" attr-for-selected="name" class="drawer-list" role="navigation">
          <template is="dom-repeat" items={{menu}} 
            as=item index-as=index>
            <a href="[[item.path]]" name="[[item.name]]" title="[[_ucFirst(item.label)]]">[[_ucFirst(item.label)]]</a>
          </template>
        </iron-selector>
      </app-drawer>

      <!-- Main content -->
      <app-header-layout>

        <!-- Main header -->
        <app-header condenses reveals effects="parallax-background" fixed>
          <app-toolbar>
            <!-- Left menu button -->
            <paper-icon-button icon="menu" drawer-toggle hidden$="[[_computeHidden(largeScreen)]]"></paper-icon-button>
            <!-- left / centered (minified)logo -->
            <div class="logo" main-title condensed$="[[_computeCondensed(largeScreen, condensed)]]">
              <ar-logo center$="[[!_computeHidden(largeScreen)]]" condensed$="[[_computeCondensed(largeScreen, condensed)]]">
                <span class="title">AMBITION <span class="titleAnd">&amp;</span> RÉUSSITE</span>
              </ar-logo>
            </div>
            <!-- Right menu button -->
            <span>
              <span class="user-pseudo" hidden$="[[!displayUserName]]">[[user.name]]</span>
              <paper-menu-button id="userMenu" allow-outside-scroll horizontal-align="right">
                <paper-icon-button
                  class="dropdown-trigger profileBtn"
                  condensed$="[[_computeCondensed(largeScreen, condensed)]]"
                  icon="account-circle">
                </paper-icon-button>

                <!-- User not authenticated -->
                <template is="dom-if" if={{!signedIn}}>
                  <paper-menu class="dropdown-content user-menu">

                    <paper-item>
                      <paper-button on-tap="_signIn">
                        <iron-icon icon="lock-open"></iron-icon>Se connecter</paper-button></paper-item>
                    <paper-item>
                      <paper-button on-tap="_signUp">
                        <iron-icon icon="input"></iron-icon>S'inscrire</paper-button>
                    </paper-item>
                  </paper-menu>
                </template>

                <!-- User authenticated -->
                <template is="dom-if" if={{signedIn}}>
                  <div class="dropdown-content user-menu user-card">
                    <iron-icon icon="account-box"></iron-icon>
                    <div>
                      <div class="email">[[user.email]]</div>
                      <div class="signout"><a href="#" title="DÉCONEXION" on-tap="logout">DÉCONEXION</a></div>
                    </div>
                  </div>
                </template>

              </paper-menu-button>
            </span>
          </app-toolbar>
          <!-- Lower toolbar -->
          <template is="dom-if" if={{_computeHidden(largeScreen)}}>
            <app-toolbar sticky>
              <paper-tabs attr-for-selected="name" selected="[[page]]" bottom-item spacer$="[[condensed]]">
                <template is="dom-repeat" items={{menu}} 
                  as=item index-as=index>
                  <paper-tab link name="[[item.name]]"><a href="[[item.path]]" title="Accueil" tabindex="-1">[[_ucFirst(item.label)]]</a></paper-tab>
                </template>
              </paper-tabs>
              <div title></div>
            </app-toolbar>
          </template>
        </app-header>

        <iron-pages role="main" selected="[[page]]" attr-for-selected="name" fallback-selection="404">
          <!-- Home view -->
          <ar-accueil name="accueil"></ar-accueil>
          <!-- Article view -->
          <ar-article name="article" route="{{subroute}}"></ar-article>
          <!-- About view -->
          <ar-a-propos name="a-propos"></ar-a-propos>
          <!-- User view -->
          <div name="user">User</div>

          <!-- <div name="nimda">
            <paper-spinner active></paper-spinner>
          </div> -->

          <div name="404">
            <h1>404</h1>
          </div>
        </iron-pages>
        <div class="end footer">
          <div class="app-grid">
            <div class="item">
              <ul>
                <div class="footer-cln-header">Projets</div>
                <!-- <li><a href="/projects/detail/pinnackl" title="Pinnackl Press">Pinnackl Press</a></li> -->
                <!-- <li><a href="/projects/detail/backdrop" title="Backdrop">Backdrop</a></li> -->
                <!-- <li><a href="/projects/detail/ok-mom2" title="OK Mom2">OK Mom2</a></li> -->
              </ul>
            </div>
            <div class="item">
              <ul>
                <div class="footer-cln-header">A propos</div>
                <!-- <li><a href="/about" title="About Pinnackl">About Pinnackl</a></li> -->
              </ul>
            </div>
            <div class="item">
              <ul>
                <li>
                  <div class="footer-cln-header">Retrouvez-nous</div>
                  <div class="social">
                    <!-- <a href="https://github.com/pinnackl" title="Github">
                      <iron-image class="github" src="/images/github.svg" preload sizing="cover"></iron-image>
                      <span>Github</span>
                    </a> -->
                  </div>
                </li>
              </ul>
            </div>
            <div class="item end right">Ambition &amp; Réussite<iron-icon icon="copyright"></iron-icon>{{year}}</div>
          </div>
        </div>
        <ar-forms id="formDialog" name="signIn"></ar-forms>
      </app-header-layout>

    </app-drawer-layout>

  </template>

  <script>

    Polymer({

      is: 'ar-app',

      properties: {

        page: {
          type: String,
          reflectToAttribute: true,
          observer: '_pageChanged'
        },

        fireUser: {
          type: Object,
          notify: true
        },

        signedIn: {
          observer: '_signedInChanged'
        },

        largeScreen: Boolean,

        displayUserName: {
          type: Boolean,
          notify: true
        },

        /**
         * Represent the app mode : App | Admin
         */
        mode: {
          type: String,
          notify: true,
          reflectToAttribute: true,
          observer: 'modeChanged'
        },

        menu: {
          type: Object,
          value: function () {
            return this._getMenu();
          }
        },

        year: {
          type: String,
          value: function () {
            var d = new Date();
            return d.getFullYear();
          }
        },

        data: {
          type: Array
        }

      },

      observers: [
        '_routePageChanged(routeData.page)',
        '_displayUserName(largeScreen, signedIn)'
      ],

      listeners: {
        'ar-login-event': 'login',
        'ar-signup-event': 'signup'
      },

      ready: function (e) {
        // Listen for scrolling event
        var _this = this;
        document.addEventListener('scroll', function(e) {
          if (window.scrollY >= 63) {
            _this.condensed = "condensed";
          } else {
            _this.condensed = false;
          }
        });

        // Remove restor focus to the menu button
        this.$.userMenu.restoreFocusOnClose = false;
      },

      login: function (e, detail) {
        this.$.arData.loginUser(detail.user);
      },

      signup: function (e, detail) {
        this.$.arData.createUser(detail.user);
      },

      logout: function () {
        this.$.arData.logoutUser();
      },

      modeChanged: function (e) {
      },

      _signIn: function (e) {
        console.info('sign-in');
        this.fire('sign-in');
        this.$.formDialog.openDialog('signIn');
      },

      _signUp: function (e) {
        console.info('sign-up');
        this.fire('sign-up');
        this.$.formDialog.openDialog('signUp');
      },

      _signedInChanged: function (userStatus) {
        if (userStatus) {
          console.info("User logged in");
        } else {
          console.info("User logged out");
        }
      },

      _routePageChanged: function(page) {
        // FIXME : Get the defaulpage from database
        this.page = page || 'accueil';

        // Force the drawer to close
        this.$.appDrawer.opened = false;
      },

      _pageChanged: function(page) {
        // load page import on demand.
        this.importHref(
          this.resolveUrl('ar-' + page + '/ar-' + page + '.html'), null, null, true);
      },

      _computeHidden: function (largeScreen) {
        return largeScreen;
      },

      _computeCondensed: function (largeScreen, condensed) {
        return largeScreen && condensed;
      },

      _displayUserName: function (largeScreen, signedIn) {
        this.set('displayUserName', largeScreen && signedIn);
      },

      _getMenu: function () {
        // FIXME : Grante access to this menu
        return [
          {
            name: 'accueil',
            path: 'accueil',
            label: 'accueil'
          },
          {
            name: 'article',
            path: 'article',
            label: 'article'
          },
          {
            name: 'a-propos',
            path: 'a-propos',
            label: 'a propos'
          },
        ];
      },

      _ucFirst: function (string) {
          return string.charAt(0).toUpperCase() + string.slice(1);
      }

    });

  </script>

</dom-module>
