<link rel="import" href="../ar-editor/ar-editor.html">

<dom-module id="ad-pages">
    <template>
        <style>
            :host {
                display: block;
                margin: 1em;
            }

            h1, h2 {
                letter-spacing: 0.1em;
            }

            h1 {
                font-weight: 600;
                font-size: 1em;
            }

            h2 {
                font-weight: 550;
                font-size: .9em;
            }

            iron-pages section {
                width: 100%;
                height: 80vh;
            }
        </style>

        <app-route
            route="[[route]]"
            pattern="/:category"
            data="{{routeData}}"
            tail="{{subroute}}"></app-route>
        <app-route
            route="{{subroute}}"
            pattern="/:id"
            data="{{subrouteData}}"></app-route>

        <h1>GÃ©rer les pages [[page]]</h1>
        <iron-pages selected="[[page]]" attr-for-selected="name">
            <section name="list">
                <h2>List des pages</h2>
            </section>
            <section name="add">
                <h2>Ajouter une nouvelle page</h2>
                <ar-editor elevation="3"></ar-editor>
            </section>
            <section name="edit">
                <h2>Edit page [[id]]</h2>
            </section>
        </iron-pages>
    </template>
    <script>
        Polymer({
            is: 'ad-pages',

            properties: {

                route: {
                    type: Object
                },

                page: {
                    type: String
                },

            },

            observers: [
                '_routePageChanged(routeData.category)',
                '_routeIdChanged(subrouteData.id)',
            ],

            _routePageChanged: function (category) {
                this.page = category || 'list';
            },

            _routeIdChanged: function (id) {
                this.id = id || null;
            }
        });
    </script>
</dom-module>