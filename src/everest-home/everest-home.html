<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../everest-article-card/everest-article-card.html">
<link rel="import" href="../shared-styles.html">
<dom-module id="everest-home">
    <template>
        <style include="shared-styles">
             :host {
                display: block;
                min-height: 100vh;
                width: 100%;
                --app-grid-columns: 3;
                --app-grid-item-height: 200px;
            }
            
            .material {
                background-color: #ffffff;
            }
            
            .material h2 {
                text-align: center;
                color: #757575;
            }
            
            .item {
                padding: 0 0.5em 1em 0.5em;
            }
            
            @media (max-width: 799px) {
                 :host {
                    --app-grid-columns: 1;
                }
            }
        </style>
        <horizon-query id="query" path="/articles" order-by-child="published_trash" data="{{data}}">
        </horizon-query>
        <div class="material">
            <div class="app-grid">
                <template is="dom-repeat" items=[[data]] as=item index-as=index>
                    <everest-article-card class="item" article="[[item]]"></everest-article-card>
                </template>
            </div>
            <template is="dom-if" if=[[!data.length]]>
                <h2>Oops ¯\_(ツ)_/¯, no article found!</h2>
            </template>
        </div>
    </template>
    <script>
        Polymer({
            is: 'everest-home',

            properties: {
                data: {
                    type: Array,
                    value: function () {
                        return [];
                    }
                }
            },

            ready: function () {
                this.combinedFilters = "true~false";
                var _this = this;
            },

            loginUser: function (e) {
                this.fire('loginUser');
            }

        });
    </script>
</dom-module>